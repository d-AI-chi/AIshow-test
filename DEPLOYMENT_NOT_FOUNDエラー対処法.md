# DEPLOYMENT_NOT_FOUND エラー対処法

## エラーの意味

`DEPLOYMENT_NOT_FOUND` エラーは、指定されたデプロイが存在しない、または削除されたことを示します。

## 原因

1. **デプロイが削除された**
   - 手動で削除された
   - 期限切れで自動削除された
   - エラーで削除された

2. **新しいデプロイが作成されていない**
   - プッシュしたがデプロイが開始されなかった
   - ビルドエラーでデプロイが失敗した

3. **デプロイIDが無効**
   - 古いデプロイのURLにアクセスしている

## 対処方法

### ステップ1: Deploymentsタブで最新のデプロイを確認

1. Vercelダッシュボードでプロジェクトを開く
2. 「**Deployments**」タブをクリック
3. 最新のデプロイを確認：
   - デプロイが存在するか
   - デプロイの状態（Ready / Building / Error）

### ステップ2: 新しいデプロイを作成する

#### 方法A: 手動で再デプロイ（推奨）

1. 「Deployments」タブを開く
2. 最新のデプロイ（または任意のデプロイ）の「...」メニューをクリック
3. 「**Redeploy**」を選択
4. 確認ダイアログで「Redeploy」をクリック
5. デプロイが開始されるのを待つ（数分）

#### 方法B: 新しいコミットをプッシュ

```bash
# 小さな変更を加える（例: 空のコミット）
git commit --allow-empty -m "デプロイ再実行"
git push origin main
```

### ステップ3: ビルドエラーを確認

デプロイが失敗している場合：

1. 「Deployments」タブでエラーのあるデプロイをクリック
2. 「**Build Logs**」タブを開く
3. エラーメッセージを確認
4. エラーを修正して再度プッシュ

### ステップ4: 正しいURLを確認

1. 「Deployments」タブで最新のデプロイを確認
2. デプロイの「**Visit**」ボタンをクリック
3. または、デプロイのURLをコピーして使用

## よくある問題と解決策

### 問題1: デプロイが全く存在しない

**解決策**:
1. 「Deployments」タブを確認
2. デプロイが1つもない場合は、手動でデプロイを作成：
   - 「Deployments」タブの「**Deploy**」ボタンをクリック
   - または、GitHubに新しいコミットをプッシュ

### 問題2: デプロイが失敗している

**解決策**:
1. エラーログを確認
2. ローカルでビルドをテスト：
   ```bash
   npm run build
   ```
3. エラーを修正して再度プッシュ

### 問題3: 自動デプロイが動作していない

**解決策**:
1. 「Settings」→「Git」で確認：
   - GitHubリポジトリが接続されているか
   - 「Automatic deployments from Git」が有効か
2. GitHubに正しくプッシュされているか確認：
   ```bash
   git status
   git log --oneline -5
   ```

## 確認チェックリスト

- [ ] 「Deployments」タブで最新のデプロイを確認
- [ ] デプロイの状態が「Ready」になっているか確認
- [ ] エラーログがないか確認
- [ ] 正しいURLにアクセスしているか確認
- [ ] ローカルで `npm run build` が成功するか確認
- [ ] GitHubに最新のコードがプッシュされているか確認

## 緊急時の対処

すぐにサイトを復旧したい場合：

1. 「Deployments」タブを開く
2. 成功しているデプロイ（🟢 Ready）を探す
3. そのデプロイの「...」メニューから「**Promote to Production**」を選択
4. または、そのデプロイのURLを直接使用

## 予防策

1. **定期的にデプロイ状態を確認**
   - 「Deployments」タブで定期的に確認

2. **エラーをすぐに対処**
   - エラーが発生したらすぐに確認・修正

3. **本番環境のURLを固定**
   - プロジェクトのメインURLを使用（`プロジェクト名.vercel.app`）
   - 個別のデプロイURLではなく、プロジェクトのURLを使用

